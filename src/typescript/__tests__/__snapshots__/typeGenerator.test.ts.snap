// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`TypeGenerator > ArrayOf should be handled for a complex query too 1`] = `
"export type Post = {
  _id: string;
  _type: "post";
  sections?: Array<{
    _key: string;
    _type: "section";
    title?: string;
  }>;
  strings: Array<string>;
  tags?: ArrayOf<Tag | Rag>;
};

export type Tag = {
  _key: string;
  _type: "tag";
  label?: string;
};

export type Rag = {
  _key: string;
  _type: "rag";
  color?: string;
};

export type AllSanitySchemaTypes = Post | Tag | Rag;

export declare const internalGroqTypeReferenceTo: unique symbol;

type ArrayOf<T> = Array<T & {
  _key: string;
}>;

// Source: foo.ts
// Variable: STRANGE_QUERY
// Query: *[_type == "post"]{              sections[]{                ...,                "_key": 123              },              "surpriseField": coalesce(tags[_type == "rag"], *[_type == 'post'][0].strings, 123)            }
export type STRANGE_QUERY_RESULT = Array<{
  sections: Array<{
    _key: 123;
    _type: "section";
    title?: string;
  }> | null;
  surpriseField: Array<string> | ArrayOf<Rag> | 123;
}>;

"
`;

exports[`TypeGenerator > regression: support using document type as field type 1`] = `
"export type Hero = {
  _id: string;
  _type: "hero";
  title: string;
};

export type Page = {
  _id: string;
  _type: "page";
  pageContent: Array<{
    _key: string;
  } & Hero>;
  title: string;
};

export type AllSanitySchemaTypes = Hero | Page;

export declare const internalGroqTypeReferenceTo: unique symbol;

// Source: ../../../../../src/queries.ts
// Variable: DOC_TYPE_SPREAD_FIELD_QUERY
// Query: *[_type == "page"].pageContent[]{...}[].title
export type DOC_TYPE_SPREAD_FIELD_QUERY_RESULT = Array<string>;

// Source: ../../../../../src/queries.ts
// Variable: DOC_TYPE_FIELD_QUERY
// Query: *[_type == "page"].pageContent[].title
export type DOC_TYPE_FIELD_QUERY_RESULT = Array<string>;

// Query TypeMap
import "@sanity/client";
declare module "@sanity/client" {
  interface SanityQueries {
    "*[_type == \\"page\\"].pageContent[]{...}[].title": DOC_TYPE_SPREAD_FIELD_QUERY_RESULT;
    "*[_type == \\"page\\"].pageContent[].title": DOC_TYPE_FIELD_QUERY_RESULT;
  }
}

"
`;
